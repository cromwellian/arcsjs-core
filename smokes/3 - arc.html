<!doctype html>

<script type="module">
  globalThis.logFlags = {
    particles: true
  };
</script>

<script type="module">
  import {Paths} from '../pkg/js/utils/paths.js';
  import {Runtime} from '../pkg/js/Runtime.js';
  import {Host} from '../pkg/js/core/Host.js';
  import {Arc} from '../pkg/js/core/Arc.js';
  import '../pkg/js/isolation/ses.js';

  const particleSpec = {
    kind: './HelloWorld',
    inputs: {
      things: {}
    }
  };

  (async () => {
    const user = new Runtime('user');
    //
    const arc = new Arc('arc');
    await user.addArc(arc);
    //
    const host = new Host('helloWorld');
    await user.marshalParticle(host, particleSpec);
    await arc.addHost(host);
    //
    console.log(user);
    console.log(arc);
    console.log(host);
  })();
</script>